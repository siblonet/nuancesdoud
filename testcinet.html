<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.cinetpay.com/seamless/main.js"></script>
    <style>
        .sdk {
            display: block;
            position: absolute;
            background-position: center;
            text-align: center;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
    <script>
        function checkout() {
            CinetPay.setConfig({
                apikey: '40810444265c61783e168b8.19353314',//   YOUR APIKEY
                site_id: '5868317',//YOUR_SITE_ID
                notify_url: 'http://nuancesdoud.com/notify/',
                mode: 'PRODUCTION'
            });
            CinetPay.getCheckout({
                transaction_id: Math.floor(Math.random() * 100000000).toString(), // YOUR TRANSACTION ID
                amount: 100,
                currency: 'XOF',
                channels: 'ALL',
                description: 'Test de paiement',
                //Fournir ces variables pour le paiements par carte bancaire
                customer_name: "John",//Le nom du client
                customer_surname: "Down",//Le prenom du client
                customer_email: "down@test.com",//l'email du client
                customer_phone_number: "0554468221",//l'email du client
                customer_address: "BP 0024",//addresse du client
                customer_city: "abidjan",// La ville du client
                customer_country: "CI",// le code ISO du pays
                customer_state: "CI",// le code ISO l'état
                customer_zip_code: "225", // code postal

            });
            CinetPay.waitResponse(function (data) {
                if (data.status == "REFUSED") {
                    if (alert("Votre paiement a échoué")) {
                        window.location.reload();
                    }
                } else if (data.status == "ACCEPTED") {
                    if (alert("Votre paiement a été effectué avec succès")) {
                        window.location.reload();
                    }
                }
            });
            CinetPay.onError(function (data) {
                console.log(data);
            });
        }
    </script>

    <script>

        const CinetPayment = () => {
            const data = JSON.stringify({
                apikey: "197100257562a92c0fa5a8c5.28252652",
                site_id: "231621",
                transaction_id: Math.floor(Math.random() * 100000000).toString(), //
                amount: amount,
                currency: "XOF",
                alternative_currency: "CFA",
                description: `Achat de ${" "}`,
                notify_url: `${apiUrlfine}/orders/cinetpay/${first_id}/${amount}`,
                return_url: "https://nuancesdoud.com/client",
                channels: "ALL"
            });

            const settings = {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: data
            };

            fetch(RAUTA.CINETPAY, settings)
                .then((answ) => answ.json())
                .then((dat) => console.log(dat.data.payment_url)).catch();

        };

    </script>
</head>

<body>
    </head>

    <body>
        <div class="sdk">
            <h1>SDK SEAMLESS</h1>
            <button onclick="checkout()">Checkout</button>
        </div>
    </body>

</html>